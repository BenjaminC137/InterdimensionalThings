@model ThingCart
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Crate";
    var total = Model.ThingCartThings.Sum(x => x.Quantity * x.Thing.Price ?? 0);
}
<br />
<br />
<br />
<br />
<br />
<br />

@if (Model.ThingCartThings.Count == 0)
{
    <div class="border-standard-free a-inverse">Your crate is empty. <br /><br /> <a asp-controller="things" asp-action="index">Here are the Things</a></div>
}
else
{
    <div>
        <a class="btn btn-danger" asp-controller="Things" asp-action="index">Back to Things</a>
    </div>
<div style="display: inline-block; align-content: flex-end">
    <table class="cartTable">
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>

            <td></td>
            <td></td>

            <td><h3>Crate</h3></td>
        </tr>

        @foreach (var product in Model.ThingCartThings)
            {
        <tr>
            <td><img src="@product.Thing.ImagePath" class="d-inline-block align-top image-cart" /></td>
            <td><b>@product.Thing.Name</b> </td>
            <td>@((product.Thing.Price ?? 0).ToString("c"))</td>
            <td>Maker: @product.Thing.Maker</td>
            <td>@product.Thing.Quality</td>
            <td>Ships: @product.Thing.ShippingDays Earth Days</td>
            <td>(@product.Quantity) @((product.Thing.Price* product.Quantity ?? 0).ToString("c"))</td>
            <td>
                <form asp-action="remove" method="post">
                    <input type="hidden" value="@product.Thing.Id" />
                    <button class="btn btn-danger">Remove</button>
                </form>
            </td>
        </tr>
}
        <tr style="background-color: rgb(140,0,57); color: rgb(195, 228, 239)">
            <td></td>
            <td></td>
            <td></td>
            <td></td>

            <td></td>
            <td>total: </td>
            <td>@total.ToString("C")</td>
            <td>
                @*<form asp-action="RequestThings" method="post">
                        <input type="hidden" value="" />
                        <button class="btn btn-danger">Request Things</button>
                    </form>*@
                <a asp-controller="checkout" asp-action="index" class="btn btn-danger">Request Things</a>
            </td>
            @*<form asp-action="RequestThings" method="post">
                    <input type="hidden" value="@product.Id" />
                    <button class="btn btn-danger">Request Things</button>
                </form></td>*@
        </tr>
    </table>
</div>
}


<div class="fixed-bottom" style="z-index: -20">

    <img class=" image-neuron" src="/images/PortalBenjaminDark.png" />
</div>